var f=Object.defineProperty;var x=(t,e,a)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var s=(t,e,a)=>x(t,typeof e!="symbol"?e+"":e,a);import{s as y}from"./index-BZt-6xfm.js";async function b(t){if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.debug("[copyText] Clipboard API failed, using fallback:",e)}try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0",e.setAttribute("readonly","readonly"),document.body.appendChild(e),e.select(),e.setSelectionRange(0,t.length);const a=document.execCommand("copy");return document.body.removeChild(e),a}catch(e){return console.debug("[copyText] execCommand fallback failed:",e),!1}}class k{constructor(e={}){s(this,"root");s(this,"backdrop");s(this,"card");s(this,"closeBtn");s(this,"isOpen",!1);s(this,"onCloseCallback");s(this,"escapeHandler");this.onCloseCallback=e.onClose,this.root=document.createElement("div"),this.root.className="vr-teammodal",this.backdrop=document.createElement("div"),this.backdrop.className="vr-teammodal-backdrop",this.backdrop.addEventListener("click",()=>this.close()),this.root.appendChild(this.backdrop),this.card=document.createElement("div"),this.card.className="vr-teammodal-card",this.closeBtn=document.createElement("button"),this.closeBtn.className="vr-teammodal-close",this.closeBtn.innerHTML="×",this.closeBtn.setAttribute("aria-label","关闭"),this.closeBtn.addEventListener("click",()=>this.close()),this.closeBtn.addEventListener("touchstart",o=>{o.stopPropagation(),this.close()});const a=document.createElement("div");a.className="vr-teammodal-title",a.textContent="鼎虎清源";const p=document.createElement("div");p.className="vr-teammodal-subtitle",p.textContent="VR 研学项目";const i=document.createElement("div");i.className="vr-teammodal-content";const m=document.createElement("p");m.className="vr-teammodal-text",m.textContent="致力于打造沉浸式虚拟现实研学体验，让学习更生动、更直观。";const h=document.createElement("p");h.className="vr-teammodal-text",h.textContent="通过 360° 全景技术，为师生提供身临其境的探索之旅。";const u=document.createElement("p");u.className="vr-teammodal-text",u.textContent="融合创新科技与教育理念，开启数字化学习新篇章。";const r=document.createElement("div");r.className="vr-teammodal-support";const C=document.createElement("div");C.textContent="技术支持：kyu",r.appendChild(C);const n=document.createElement("div");n.className="copyable",n.setAttribute("data-copy","1888888"),n.textContent="微信号：1888888",n.style.cursor="pointer",n.addEventListener("click",async()=>{const o=n.getAttribute("data-copy");o&&await b(o)&&(y("微信号已复制"),__VR_DEBUG__&&console.debug("[TeamIntroModal] 微信号已复制:",o))}),r.appendChild(n);const c=document.createElement("div");c.className="copyable",c.setAttribute("data-copy","2888888"),c.textContent="QQ号：2888888",c.style.cursor="pointer",c.addEventListener("click",async()=>{const o=c.getAttribute("data-copy");o&&await b(o)&&(y("QQ号已复制"),__VR_DEBUG__&&console.debug("[TeamIntroModal] QQ号已复制:",o))}),r.appendChild(c);const l=document.createElement("a");l.href="https://qm.qq.com/q/sNWlsarvtS",l.target="_blank",l.rel="noreferrer noopener",l.textContent="点击链接加我为QQ好友：https://qm.qq.com/q/sNWlsarvtS",r.appendChild(l);const v=document.createElement("div");v.className="vr-teammodal-footer",v.textContent="© 2024 鼎虎清源",i.appendChild(m),i.appendChild(h),i.appendChild(u),i.appendChild(r);const d=document.createElement("div");d.className="vr-teammodal-header",d.appendChild(a),d.appendChild(this.closeBtn),this.card.appendChild(d),this.card.appendChild(p),this.card.appendChild(i),this.card.appendChild(v),this.root.appendChild(this.card),this.escapeHandler=o=>{o.key==="Escape"&&this.isOpen&&this.close()},window.addEventListener("keydown",this.escapeHandler),this.root.style.opacity="0",this.root.style.pointerEvents="none"}mount(e){e.appendChild(this.root)}open(){this.isOpen||(this.isOpen=!0,this.root.style.pointerEvents="auto",requestAnimationFrame(()=>{this.root.classList.add("open")}))}close(){this.isOpen&&(this.isOpen=!1,this.root.classList.remove("open"),setTimeout(()=>{this.isOpen||(this.root.style.pointerEvents="none")},250),this.onCloseCallback&&this.onCloseCallback())}dispose(){this.escapeHandler&&window.removeEventListener("keydown",this.escapeHandler),this.root.parentNode&&this.root.parentNode.removeChild(this.root)}getElement(){return this.root}}function g(t){return new k(t)}export{k as TeamIntroModal,g as createTeamIntroModal};
