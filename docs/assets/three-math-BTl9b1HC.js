import{an as f,r as P,R as w,e as M,j as g,V as u}from"./three-renderer-toiwjbvW.js";function m(r=512){const c=document.createElement("canvas");c.width=r,c.height=r;const t=c.getContext("2d");if(!t){const s=new f(c);return s.needsUpdate=!0,s}const e=r/2,o=r/2,n=r/2*.92;t.clearRect(0,0,r,r);const a=t.createRadialGradient(e,o,n*.25,e,o,n);a.addColorStop(0,"rgba(0,0,0,0.00)"),a.addColorStop(.55,"rgba(0,0,0,0.18)"),a.addColorStop(1,"rgba(0,0,0,0.55)"),t.fillStyle=a,t.beginPath(),t.arc(e,o,n,0,Math.PI*2),t.closePath(),t.fill(),t.fillStyle="rgba(0,0,0,0.55)",t.beginPath(),t.arc(e,o,n*.28,0,Math.PI*2),t.closePath(),t.fill();const h=t.createRadialGradient(e,o,0,e,o,n*.42);h.addColorStop(0,"rgba(0,0,0,0.22)"),h.addColorStop(1,"rgba(0,0,0,0.00)"),t.fillStyle=h,t.beginPath(),t.arc(e,o,n*.42,0,Math.PI*2),t.closePath(),t.fill(),t.save(),t.translate(e,o);for(let s=0;s<360;s+=30){const l=s*Math.PI/180,d=s%90===0,y=d?n*.12:n*.07,p=d?2:1;t.strokeStyle=d?"rgba(255,255,255,0.25)":"rgba(255,255,255,0.14)",t.lineWidth=p,t.beginPath(),t.moveTo(Math.sin(l)*(n-y),-Math.cos(l)*(n-y)),t.lineTo(Math.sin(l)*n,-Math.cos(l)*n),t.stroke()}t.restore(),t.strokeStyle="rgba(255,255,255,0.08)",t.lineWidth=2,t.beginPath(),t.arc(e,o,n,0,Math.PI*2),t.closePath(),t.stroke();const i=new f(c);return i.colorSpace=P,i.center.set(.5,.5),i.rotation=0,i.flipY=!1,i.needsUpdate=!0,i}function C(r,c,t){const e=(r-t.left)/t.width*2-1,o=-((c-t.top)/t.height*2-1);return{x:e,y:o}}function T(r,c,t,e=500){const o=new w;o.setFromCamera(new M(r,c),t);const n=o.ray.direction;if(!n||n.length()===0)return null;const a=n.normalize(),h=Math.asin(Math.max(-1,Math.min(1,a.y))),i=g.radToDeg(h),s=Math.atan2(a.x,a.z);return{yaw:g.radToDeg(s),pitch:i}}function b(r,c){const t=g.degToRad(r),e=g.degToRad(c),o=Math.cos(e)*Math.sin(t),n=Math.sin(e),a=Math.cos(e)*Math.cos(t);return new u(o,n,a)}function x(r,c,t){const e=new u,o=new u;if(c.getWorldPosition(e),c.getWorldDirection(o),new u().copy(r).sub(e).dot(o)<=0)return{x:0,y:0,visible:!1};const a=new u().copy(r).project(c);if(!(a.x>=-1&&a.x<=1&&a.y>=-1&&a.y<=1&&a.z>=-1&&a.z<=1))return{x:0,y:0,visible:!1};const i=t.clientWidth,s=t.clientHeight,l=(a.x+1)*.5*i,d=(1-(a.y+1)*.5)*s;return{x:l,y:d,visible:!0}}function R(r,c,t,e,o=500){const a=b(r,c).clone().multiplyScalar(o);return x(a,t,e)}export{m as c,T as g,C as s,R as y};
