import{f as Ne,F as pA,C as pt,U as P,g as mt,h as xe,i as FA,j as Ae,k as EA,l as V,m as Dt,n as wt,N as Ce,o as ce,p as uA,q as fA,r as IA,H as RA,s as SA,t as yt,u as Rt,v as St,w as Ft,x as Tt,y as Lt,z as Gt,E as Mt,I as Nt,J as xt,K as Ut,O as kt,V as L,Q as aA,T as gA,X as Qe,Y as TA,e as _,Z as _t,_ as bt,$ as Ue,a0 as Ht,a1 as WA,a2 as ke,a3 as mA,a4 as AA,a5 as oA,a6 as Ot,a7 as qt,D as Kt,a8 as LA,a9 as Jt,aa as Pt,ab as _e,ac as Yt,ad as jt,ae as UA,af as Vt,ag as Xt,ah as Wt,ai as vt,aj as zt,ak as vA,al as Zt,am as $t,an as As,ao as kA,L as es,d as be,ap as ts,aq as dA,ar as ss,a as ns,as as is,M as os,at as rs,b as as,au as gs,av as Is,G as _A,P as Bs,aw as Es,ax as Cs,ay as cs,az as Qs,aA as ls,aB as He,aC as hs,aD as le,aE as he,aF as ue,aG as fe,aH as de,aI as us,aJ as fs,B as ds,aK as ps}from"./three-core-Y4hoEZik.js";class ms{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const s=this.workerCreator();s.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=s}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,s){const A=this.workersResolve[e];if(A&&A(s),this.queue.length){const{resolve:t,msg:n,transfer:i}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,i)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,s){return new Promise(A=>{const t=this._getIdleWorker();t!==-1?(this._initWorker(t),this.workerStatus|=1<<t,this.workersResolve[t]=A,this.workers[t].postMessage(e,s)):this.queue.push({resolve:A,msg:e,transfer:s})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Ds=0,pe=2,ws=1,me=2,ys=0,Rs=1,Ss=10,Fs=0,Oe=9,qe=15,Ke=16,Je=22,Pe=37,Ye=43,je=76,Ve=83,Xe=97,We=100,ve=103,ze=109,Ze=165,$e=166;class Ts{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class lA{constructor(e,s,A,t){this._dataView=new DataView(e.buffer,e.byteOffset+s,A),this._littleEndian=t,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,s=0){const A=this._offset;let t=0;for(;this._dataView.getUint8(this._offset)!==s&&t<e;)t++,this._offset++;return t<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+A,t)}}const U=[171,75,84,88,32,50,48,187,13,10,26,10];function De(E){return typeof TextDecoder<"u"?new TextDecoder().decode(E):Buffer.from(E).toString("utf8")}function Ls(E){const e=new Uint8Array(E.buffer,E.byteOffset,U.length);if(e[0]!==U[0]||e[1]!==U[1]||e[2]!==U[2]||e[3]!==U[3]||e[4]!==U[4]||e[5]!==U[5]||e[6]!==U[6]||e[7]!==U[7]||e[8]!==U[8]||e[9]!==U[9]||e[10]!==U[10]||e[11]!==U[11])throw new Error("Missing KTX 2.0 identifier.");const s=new Ts,A=17*Uint32Array.BYTES_PER_ELEMENT,t=new lA(E,U.length,A,!0);s.vkFormat=t._nextUint32(),s.typeSize=t._nextUint32(),s.pixelWidth=t._nextUint32(),s.pixelHeight=t._nextUint32(),s.pixelDepth=t._nextUint32(),s.layerCount=t._nextUint32(),s.faceCount=t._nextUint32();const n=t._nextUint32();s.supercompressionScheme=t._nextUint32();const i=t._nextUint32(),o=t._nextUint32(),r=t._nextUint32(),g=t._nextUint32(),I=t._nextUint64(),B=t._nextUint64(),C=new lA(E,U.length+A,3*n*8,!0);for(let T=0;T<n;T++)s.levels.push({levelData:new Uint8Array(E.buffer,E.byteOffset+C._nextUint64(),C._nextUint64()),uncompressedByteLength:C._nextUint64()});const c=new lA(E,i,o,!0),Q={vendorId:c._skip(4)._nextUint16(),descriptorType:c._nextUint16(),versionNumber:c._nextUint16(),descriptorBlockSize:c._nextUint16(),colorModel:c._nextUint8(),colorPrimaries:c._nextUint8(),transferFunction:c._nextUint8(),flags:c._nextUint8(),texelBlockDimension:[c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8()],bytesPlane:[c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8()],samples:[]},l=(Q.descriptorBlockSize/4-6)/4;for(let T=0;T<l;T++){const M={bitOffset:c._nextUint16(),bitLength:c._nextUint8(),channelType:c._nextUint8(),samplePosition:[c._nextUint8(),c._nextUint8(),c._nextUint8(),c._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&M.channelType?(M.sampleLower=c._nextInt32(),M.sampleUpper=c._nextInt32()):(M.sampleLower=c._nextUint32(),M.sampleUpper=c._nextUint32()),Q.samples[T]=M}s.dataFormatDescriptor.length=0,s.dataFormatDescriptor.push(Q);const h=new lA(E,r,g,!0);for(;h._offset<g;){const T=h._nextUint32(),M=h._scan(T),X=De(M),k=h._scan(T-M.byteLength);s.keyValue[X]=X.match(/^ktx/i)?De(k):k,h._offset%4&&h._skip(4-h._offset%4)}if(B<=0)return s;const u=new lA(E,I,B,!0),d=u._nextUint16(),p=u._nextUint16(),m=u._nextUint32(),y=u._nextUint32(),S=u._nextUint32(),R=u._nextUint32(),N=[];for(let T=0;T<n;T++)N.push({imageFlags:u._nextUint32(),rgbSliceByteOffset:u._nextUint32(),rgbSliceByteLength:u._nextUint32(),alphaSliceByteOffset:u._nextUint32(),alphaSliceByteLength:u._nextUint32()});const G=I+u._offset,q=G+m,Y=q+y,j=Y+S,b=new Uint8Array(E.buffer,E.byteOffset+G,m),nA=new Uint8Array(E.buffer,E.byteOffset+q,y),K=new Uint8Array(E.buffer,E.byteOffset+Y,S),J=new Uint8Array(E.buffer,E.byteOffset+j,R);return s.globalData={endpointCount:d,selectorCount:p,imageDescs:N,endpointsData:b,selectorsData:nA,tablesData:K,extendedData:J},s}let bA,Z,zA;const HA={env:{emscripten_notify_memory_growth:function(E){zA=new Uint8Array(Z.exports.memory.buffer)}}};class Gs{init(){return bA||(bA=typeof fetch<"u"?fetch("data:application/wasm;base64,"+we).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,HA)).then(this._init):WebAssembly.instantiate(Buffer.from(we,"base64"),HA).then(this._init),bA)}_init(e){Z=e.instance,HA.env.emscripten_notify_memory_growth(0)}decode(e,s=0){if(!Z)throw new Error("ZSTDDecoder: Await .init() before decoding.");const A=e.byteLength,t=Z.exports.malloc(A);zA.set(e,t),s=s||Number(Z.exports.ZSTD_findDecompressedSize(t,A));const n=Z.exports.malloc(s),i=Z.exports.ZSTD_decompress(n,s,t,A),o=zA.slice(n,n+i);return Z.exports.free(t),Z.exports.free(n),o}}const we="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",OA=new WeakMap;let qA=0,KA;class $ extends Ne{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new ms,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return e.isWebGPURenderer===!0?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),etc1Supported:!1,etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:!1,pvrtcSupported:!1}:(this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1)),this}init(){if(!this.transcoderPending){const e=new pA(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const s=e.loadAsync("basis_transcoder.js"),A=new pA(this.manager);A.setPath(this.transcoderPath),A.setResponseType("arraybuffer"),A.setWithCredentials(this.withCredentials);const t=A.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([s,t]).then(([n,i])=>{const o=$.BasisWorker.toString(),r=["/* constants */","let _EngineFormat = "+JSON.stringify($.EngineFormat),"let _TranscoderFormat = "+JSON.stringify($.TranscoderFormat),"let _BasisFormat = "+JSON.stringify($.BasisFormat),"/* basis_transcoder.js */",n,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([r])),this.transcoderBinary=i,this.workerPool.setWorkerCreator(()=>{const g=new Worker(this.workerSourceURL),I=this.transcoderBinary.slice(0);return g.postMessage({type:"init",config:this.workerConfig,transcoderBinary:I},[I]),g})}),qA>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),qA++}return this.transcoderPending}load(e,s,A,t){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const n=new pA(this.manager);n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials),n.load(e,i=>{if(OA.has(i))return OA.get(i).promise.then(s).catch(t);this._createTexture(i).then(o=>s?s(o):null).catch(t)},A,t)}_createTextureFrom(e,s){const{faces:A,width:t,height:n,format:i,type:o,error:r,dfdFlags:g}=e;if(o==="error")return Promise.reject(r);let I;if(s.faceCount===6)I=new pt(A,i,P);else{const B=A[0].mipmaps;I=s.layerCount>1?new mt(B,t,n,s.layerCount,i,P):new xe(B,t,n,i,P)}return I.minFilter=A[0].mipmaps.length===1?FA:Ae,I.magFilter=FA,I.generateMipmaps=!1,I.needsUpdate=!0,I.colorSpace=At(s),I.premultiplyAlpha=!!(g&ws),I}async _createTexture(e,s={}){const A=Ls(new Uint8Array(e));if(A.vkFormat!==Fs)return Ns(A);const t=s,n=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:t},[e])).then(i=>this._createTextureFrom(i.data,A));return OA.set(e,{promise:n}),n}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),qA--,this}}$.BasisFormat={ETC1S:0,UASTC_4x4:1};$.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};$.EngineFormat={RGBAFormat:IA,RGBA_ASTC_4x4_Format:Ut,RGBA_BPTC_Format:xt,RGBA_ETC2_EAC_Format:Nt,RGBA_PVRTC_4BPPV1_Format:Mt,RGBA_S3TC_DXT5_Format:Gt,RGB_ETC1_Format:Lt,RGB_ETC2_Format:Tt,RGB_PVRTC_4BPPV1_Format:Ft,RGB_S3TC_DXT1_Format:St};$.BasisWorker=function(){let E,e,s;const A=_EngineFormat,t=_TranscoderFormat,n=_BasisFormat;self.addEventListener("message",function(Q){const l=Q.data;switch(l.type){case"init":E=l.config,i(l.transcoderBinary);break;case"transcode":e.then(()=>{try{const{faces:h,buffers:u,width:d,height:p,hasAlpha:m,format:y,dfdFlags:S}=o(l.buffer);self.postMessage({type:"transcode",id:l.id,faces:h,width:d,height:p,hasAlpha:m,format:y,dfdFlags:S},u)}catch(h){console.error(h),self.postMessage({type:"error",id:l.id,error:h.message})}});break}});function i(Q){e=new Promise(l=>{s={wasmBinary:Q,onRuntimeInitialized:l},BASIS(s)}).then(()=>{s.initializeBasis(),s.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function o(Q){const l=new s.KTX2File(new Uint8Array(Q));function h(){l.close(),l.delete()}if(!l.isValid())throw h(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const u=l.isUASTC()?n.UASTC_4x4:n.ETC1S,d=l.getWidth(),p=l.getHeight(),m=l.getLayers()||1,y=l.getLevels(),S=l.getFaces(),R=l.getHasAlpha(),N=l.getDFDFlags(),{transcoderFormat:G,engineFormat:q}=B(u,d,p,R);if(!d||!p||!y)throw h(),new Error("THREE.KTX2Loader:	Invalid texture");if(!l.startTranscoding())throw h(),new Error("THREE.KTX2Loader: .startTranscoding failed");const Y=[],j=[];for(let b=0;b<S;b++){const nA=[];for(let K=0;K<y;K++){const J=[];let T,M;for(let k=0;k<m;k++){const W=l.getImageLevelInfo(K,k,b);b===0&&K===0&&k===0&&(W.origWidth%4!==0||W.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),y>1?(T=W.origWidth,M=W.origHeight):(T=W.width,M=W.height);const DA=new Uint8Array(l.getImageTranscodedSizeInBytes(K,k,0,G));if(!l.transcodeImage(DA,K,k,b,G,0,-1,-1))throw h(),new Error("THREE.KTX2Loader: .transcodeImage failed.");J.push(DA)}const X=c(J);nA.push({data:X,width:T,height:M}),j.push(X.buffer)}Y.push({mipmaps:nA,width:d,height:p,format:q})}return h(),{faces:Y,buffers:j,width:d,height:p,hasAlpha:R,format:q,dfdFlags:N}}const r=[{if:"astcSupported",basisFormat:[n.UASTC_4x4],transcoderFormat:[t.ASTC_4x4,t.ASTC_4x4],engineFormat:[A.RGBA_ASTC_4x4_Format,A.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[n.ETC1S,n.UASTC_4x4],transcoderFormat:[t.BC7_M5,t.BC7_M5],engineFormat:[A.RGBA_BPTC_Format,A.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[n.ETC1S,n.UASTC_4x4],transcoderFormat:[t.BC1,t.BC3],engineFormat:[A.RGB_S3TC_DXT1_Format,A.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[n.ETC1S,n.UASTC_4x4],transcoderFormat:[t.ETC1,t.ETC2],engineFormat:[A.RGB_ETC2_Format,A.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[n.ETC1S,n.UASTC_4x4],transcoderFormat:[t.ETC1],engineFormat:[A.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[n.ETC1S,n.UASTC_4x4],transcoderFormat:[t.PVRTC1_4_RGB,t.PVRTC1_4_RGBA],engineFormat:[A.RGB_PVRTC_4BPPV1_Format,A.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],g=r.sort(function(Q,l){return Q.priorityETC1S-l.priorityETC1S}),I=r.sort(function(Q,l){return Q.priorityUASTC-l.priorityUASTC});function B(Q,l,h,u){let d,p;const m=Q===n.ETC1S?g:I;for(let y=0;y<m.length;y++){const S=m[y];if(E[S.if]&&S.basisFormat.includes(Q)&&!(u&&S.transcoderFormat.length<2)&&!(S.needsPowerOfTwo&&!(C(l)&&C(h))))return d=S.transcoderFormat[u?1:0],p=S.engineFormat[u?1:0],{transcoderFormat:d,engineFormat:p}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),d=t.RGBA32,p=A.RGBAFormat,{transcoderFormat:d,engineFormat:p}}function C(Q){return Q<=2?!0:(Q&Q-1)===0&&Q!==0}function c(Q){if(Q.length===1)return Q[0];let l=0;for(let d=0;d<Q.length;d++){const p=Q[d];l+=p.byteLength}const h=new Uint8Array(l);let u=0;for(let d=0;d<Q.length;d++){const p=Q[d];h.set(p,u),u+=p.byteLength}return h}};const Ms=new Set([IA,fA,uA]),JA={[ze]:IA,[Xe]:IA,[Pe]:IA,[Ye]:IA,[ve]:fA,[Ve]:fA,[Ke]:fA,[Je]:fA,[We]:uA,[je]:uA,[qe]:uA,[Oe]:uA,[$e]:ce,[Ze]:ce},PA={[ze]:SA,[Xe]:RA,[Pe]:P,[Ye]:P,[ve]:SA,[Ve]:RA,[Ke]:P,[Je]:P,[We]:SA,[je]:RA,[qe]:P,[Oe]:P,[$e]:P,[Ze]:P};async function Ns(E){const{vkFormat:e}=E;if(JA[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let s;E.supercompressionScheme===pe&&(KA||(KA=new Promise(async n=>{const i=new Gs;await i.init(),n(i)})),s=await KA);const A=[];for(let n=0;n<E.levels.length;n++){const i=Math.max(1,E.pixelWidth>>n),o=Math.max(1,E.pixelHeight>>n),r=E.pixelDepth?Math.max(1,E.pixelDepth>>n):0,g=E.levels[n];let I;if(E.supercompressionScheme===Ds)I=g.levelData;else if(E.supercompressionScheme===pe)I=s.decode(g.levelData,g.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let B;PA[e]===SA?B=new Float32Array(I.buffer,I.byteOffset,I.byteLength/Float32Array.BYTES_PER_ELEMENT):PA[e]===RA?B=new Uint16Array(I.buffer,I.byteOffset,I.byteLength/Uint16Array.BYTES_PER_ELEMENT):B=I,A.push({data:B,width:i,height:o,depth:r})}let t;if(Ms.has(JA[e]))t=E.pixelDepth===0?new yt(A[0].data,E.pixelWidth,E.pixelHeight):new Rt(A[0].data,E.pixelWidth,E.pixelHeight,E.pixelDepth);else{if(E.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");t=new xe(A,E.pixelWidth,E.pixelHeight)}return t.mipmaps=A,t.type=PA[e],t.format=JA[e],t.colorSpace=At(E),t.needsUpdate=!0,Promise.resolve(t)}function At(E){const e=E.dataFormatDescriptor[0];return e.colorPrimaries===Rs?e.transferFunction===me?EA:V:e.colorPrimaries===Ss?e.transferFunction===me?Dt:wt:e.colorPrimaries===ys?Ce:(console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${e.colorPrimaries}"`),Ce)}const ye={type:"change"},YA={type:"start"},Re={type:"end"},yA=new _t,Se=new bt,xs=Math.cos(70*Ue.DEG2RAD);class Us extends kt{constructor(e,s){super(),this.object=e,this.domElement=s,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new L,this.cursor=new L,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:aA.ROTATE,MIDDLE:aA.DOLLY,RIGHT:aA.PAN},this.touches={ONE:gA.ROTATE,TWO:gA.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",NA),this._domElementKeyEvents=a},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",NA),this._domElementKeyEvents=null},this.saveState=function(){A.target0.copy(A.target),A.position0.copy(A.object.position),A.zoom0=A.object.zoom},this.reset=function(){A.target.copy(A.target0),A.object.position.copy(A.position0),A.object.zoom=A.zoom0,A.object.updateProjectionMatrix(),A.dispatchEvent(ye),A.update(),n=t.NONE},this.update=function(){const a=new L,f=new TA().setFromUnitVectors(e.up,new L(0,1,0)),w=f.clone().invert(),F=new L,x=new TA,eA=new L,H=2*Math.PI;return function(dt=null){const Ee=A.object.position;a.copy(Ee).sub(A.target),a.applyQuaternion(f),o.setFromVector3(a),A.autoRotate&&n===t.NONE&&j(q(dt)),A.enableDamping?(o.theta+=r.theta*A.dampingFactor,o.phi+=r.phi*A.dampingFactor):(o.theta+=r.theta,o.phi+=r.phi);let v=A.minAzimuthAngle,z=A.maxAzimuthAngle;isFinite(v)&&isFinite(z)&&(v<-Math.PI?v+=H:v>Math.PI&&(v-=H),z<-Math.PI?z+=H:z>Math.PI&&(z-=H),v<=z?o.theta=Math.max(v,Math.min(z,o.theta)):o.theta=o.theta>(v+z)/2?Math.max(v,o.theta):Math.min(z,o.theta)),o.phi=Math.max(A.minPolarAngle,Math.min(A.maxPolarAngle,o.phi)),o.makeSafe(),A.enableDamping===!0?A.target.addScaledVector(I,A.dampingFactor):A.target.add(I),A.target.sub(A.cursor),A.target.clampLength(A.minTargetRadius,A.maxTargetRadius),A.target.add(A.cursor),A.zoomToCursor&&S||A.object.isOrthographicCamera?o.radius=k(o.radius):o.radius=k(o.radius*g),a.setFromSpherical(o),a.applyQuaternion(w),Ee.copy(A.target).add(a),A.object.lookAt(A.target),A.enableDamping===!0?(r.theta*=1-A.dampingFactor,r.phi*=1-A.dampingFactor,I.multiplyScalar(1-A.dampingFactor)):(r.set(0,0,0),I.set(0,0,0));let xA=!1;if(A.zoomToCursor&&S){let cA=null;if(A.object.isPerspectiveCamera){const QA=a.length();cA=k(QA*g);const wA=QA-cA;A.object.position.addScaledVector(m,wA),A.object.updateMatrixWorld()}else if(A.object.isOrthographicCamera){const QA=new L(y.x,y.y,0);QA.unproject(A.object),A.object.zoom=Math.max(A.minZoom,Math.min(A.maxZoom,A.object.zoom/g)),A.object.updateProjectionMatrix(),xA=!0;const wA=new L(y.x,y.y,0);wA.unproject(A.object),A.object.position.sub(wA).add(QA),A.object.updateMatrixWorld(),cA=a.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),A.zoomToCursor=!1;cA!==null&&(this.screenSpacePanning?A.target.set(0,0,-1).transformDirection(A.object.matrix).multiplyScalar(cA).add(A.object.position):(yA.origin.copy(A.object.position),yA.direction.set(0,0,-1).transformDirection(A.object.matrix),Math.abs(A.object.up.dot(yA.direction))<xs?e.lookAt(A.target):(Se.setFromNormalAndCoplanarPoint(A.object.up,A.target),yA.intersectPlane(Se,A.target))))}else A.object.isOrthographicCamera&&(A.object.zoom=Math.max(A.minZoom,Math.min(A.maxZoom,A.object.zoom/g)),A.object.updateProjectionMatrix(),xA=!0);return g=1,S=!1,xA||F.distanceToSquared(A.object.position)>i||8*(1-x.dot(A.object.quaternion))>i||eA.distanceToSquared(A.target)>0?(A.dispatchEvent(ye),F.copy(A.object.position),x.copy(A.object.quaternion),eA.copy(A.target),!0):!1}}(),this.dispose=function(){A.domElement.removeEventListener("contextmenu",Ie),A.domElement.removeEventListener("pointerdown",re),A.domElement.removeEventListener("pointercancel",CA),A.domElement.removeEventListener("wheel",ae),A.domElement.removeEventListener("pointermove",MA),A.domElement.removeEventListener("pointerup",CA),A._domElementKeyEvents!==null&&(A._domElementKeyEvents.removeEventListener("keydown",NA),A._domElementKeyEvents=null)};const A=this,t={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let n=t.NONE;const i=1e-6,o=new Qe,r=new Qe;let g=1;const I=new L,B=new _,C=new _,c=new _,Q=new _,l=new _,h=new _,u=new _,d=new _,p=new _,m=new L,y=new _;let S=!1;const R=[],N={};let G=!1;function q(a){return a!==null?2*Math.PI/60*A.autoRotateSpeed*a:2*Math.PI/60/60*A.autoRotateSpeed}function Y(a){const f=Math.abs(a*.01);return Math.pow(.95,A.zoomSpeed*f)}function j(a){r.theta-=a}function b(a){r.phi-=a}const nA=function(){const a=new L;return function(w,F){a.setFromMatrixColumn(F,0),a.multiplyScalar(-w),I.add(a)}}(),K=function(){const a=new L;return function(w,F){A.screenSpacePanning===!0?a.setFromMatrixColumn(F,1):(a.setFromMatrixColumn(F,0),a.crossVectors(A.object.up,a)),a.multiplyScalar(w),I.add(a)}}(),J=function(){const a=new L;return function(w,F){const x=A.domElement;if(A.object.isPerspectiveCamera){const eA=A.object.position;a.copy(eA).sub(A.target);let H=a.length();H*=Math.tan(A.object.fov/2*Math.PI/180),nA(2*w*H/x.clientHeight,A.object.matrix),K(2*F*H/x.clientHeight,A.object.matrix)}else A.object.isOrthographicCamera?(nA(w*(A.object.right-A.object.left)/A.object.zoom/x.clientWidth,A.object.matrix),K(F*(A.object.top-A.object.bottom)/A.object.zoom/x.clientHeight,A.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),A.enablePan=!1)}}();function T(a){A.object.isPerspectiveCamera||A.object.isOrthographicCamera?g/=a:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),A.enableZoom=!1)}function M(a){A.object.isPerspectiveCamera||A.object.isOrthographicCamera?g*=a:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),A.enableZoom=!1)}function X(a,f){if(!A.zoomToCursor)return;S=!0;const w=A.domElement.getBoundingClientRect(),F=a-w.left,x=f-w.top,eA=w.width,H=w.height;y.x=F/eA*2-1,y.y=-(x/H)*2+1,m.set(y.x,y.y,1).unproject(A.object).sub(A.object.position).normalize()}function k(a){return Math.max(A.minDistance,Math.min(A.maxDistance,a))}function W(a){B.set(a.clientX,a.clientY)}function DA(a){X(a.clientX,a.clientX),u.set(a.clientX,a.clientY)}function GA(a){Q.set(a.clientX,a.clientY)}function st(a){C.set(a.clientX,a.clientY),c.subVectors(C,B).multiplyScalar(A.rotateSpeed);const f=A.domElement;j(2*Math.PI*c.x/f.clientHeight),b(2*Math.PI*c.y/f.clientHeight),B.copy(C),A.update()}function nt(a){d.set(a.clientX,a.clientY),p.subVectors(d,u),p.y>0?T(Y(p.y)):p.y<0&&M(Y(p.y)),u.copy(d),A.update()}function it(a){l.set(a.clientX,a.clientY),h.subVectors(l,Q).multiplyScalar(A.panSpeed),J(h.x,h.y),Q.copy(l),A.update()}function ot(a){X(a.clientX,a.clientY),a.deltaY<0?M(Y(a.deltaY)):a.deltaY>0&&T(Y(a.deltaY)),A.update()}function rt(a){let f=!1;switch(a.code){case A.keys.UP:a.ctrlKey||a.metaKey||a.shiftKey?b(2*Math.PI*A.rotateSpeed/A.domElement.clientHeight):J(0,A.keyPanSpeed),f=!0;break;case A.keys.BOTTOM:a.ctrlKey||a.metaKey||a.shiftKey?b(-2*Math.PI*A.rotateSpeed/A.domElement.clientHeight):J(0,-A.keyPanSpeed),f=!0;break;case A.keys.LEFT:a.ctrlKey||a.metaKey||a.shiftKey?j(2*Math.PI*A.rotateSpeed/A.domElement.clientHeight):J(A.keyPanSpeed,0),f=!0;break;case A.keys.RIGHT:a.ctrlKey||a.metaKey||a.shiftKey?j(-2*Math.PI*A.rotateSpeed/A.domElement.clientHeight):J(-A.keyPanSpeed,0),f=!0;break}f&&(a.preventDefault(),A.update())}function ee(a){if(R.length===1)B.set(a.pageX,a.pageY);else{const f=rA(a),w=.5*(a.pageX+f.x),F=.5*(a.pageY+f.y);B.set(w,F)}}function te(a){if(R.length===1)Q.set(a.pageX,a.pageY);else{const f=rA(a),w=.5*(a.pageX+f.x),F=.5*(a.pageY+f.y);Q.set(w,F)}}function se(a){const f=rA(a),w=a.pageX-f.x,F=a.pageY-f.y,x=Math.sqrt(w*w+F*F);u.set(0,x)}function at(a){A.enableZoom&&se(a),A.enablePan&&te(a)}function gt(a){A.enableZoom&&se(a),A.enableRotate&&ee(a)}function ne(a){if(R.length==1)C.set(a.pageX,a.pageY);else{const w=rA(a),F=.5*(a.pageX+w.x),x=.5*(a.pageY+w.y);C.set(F,x)}c.subVectors(C,B).multiplyScalar(A.rotateSpeed);const f=A.domElement;j(2*Math.PI*c.x/f.clientHeight),b(2*Math.PI*c.y/f.clientHeight),B.copy(C)}function ie(a){if(R.length===1)l.set(a.pageX,a.pageY);else{const f=rA(a),w=.5*(a.pageX+f.x),F=.5*(a.pageY+f.y);l.set(w,F)}h.subVectors(l,Q).multiplyScalar(A.panSpeed),J(h.x,h.y),Q.copy(l)}function oe(a){const f=rA(a),w=a.pageX-f.x,F=a.pageY-f.y,x=Math.sqrt(w*w+F*F);d.set(0,x),p.set(0,Math.pow(d.y/u.y,A.zoomSpeed)),T(p.y),u.copy(d);const eA=(a.pageX+f.x)*.5,H=(a.pageY+f.y)*.5;X(eA,H)}function It(a){A.enableZoom&&oe(a),A.enablePan&&ie(a)}function Bt(a){A.enableZoom&&oe(a),A.enableRotate&&ne(a)}function re(a){A.enabled!==!1&&(R.length===0&&(A.domElement.setPointerCapture(a.pointerId),A.domElement.addEventListener("pointermove",MA),A.domElement.addEventListener("pointerup",CA)),ut(a),a.pointerType==="touch"?lt(a):Et(a))}function MA(a){A.enabled!==!1&&(a.pointerType==="touch"?ht(a):Ct(a))}function CA(a){ft(a),R.length===0&&(A.domElement.releasePointerCapture(a.pointerId),A.domElement.removeEventListener("pointermove",MA),A.domElement.removeEventListener("pointerup",CA)),A.dispatchEvent(Re),n=t.NONE}function Et(a){let f;switch(a.button){case 0:f=A.mouseButtons.LEFT;break;case 1:f=A.mouseButtons.MIDDLE;break;case 2:f=A.mouseButtons.RIGHT;break;default:f=-1}switch(f){case aA.DOLLY:if(A.enableZoom===!1)return;DA(a),n=t.DOLLY;break;case aA.ROTATE:if(a.ctrlKey||a.metaKey||a.shiftKey){if(A.enablePan===!1)return;GA(a),n=t.PAN}else{if(A.enableRotate===!1)return;W(a),n=t.ROTATE}break;case aA.PAN:if(a.ctrlKey||a.metaKey||a.shiftKey){if(A.enableRotate===!1)return;W(a),n=t.ROTATE}else{if(A.enablePan===!1)return;GA(a),n=t.PAN}break;default:n=t.NONE}n!==t.NONE&&A.dispatchEvent(YA)}function Ct(a){switch(n){case t.ROTATE:if(A.enableRotate===!1)return;st(a);break;case t.DOLLY:if(A.enableZoom===!1)return;nt(a);break;case t.PAN:if(A.enablePan===!1)return;it(a);break}}function ae(a){A.enabled===!1||A.enableZoom===!1||n!==t.NONE||(a.preventDefault(),A.dispatchEvent(YA),ot(ct(a)),A.dispatchEvent(Re))}function ct(a){const f=a.deltaMode,w={clientX:a.clientX,clientY:a.clientY,deltaY:a.deltaY};switch(f){case 1:w.deltaY*=16;break;case 2:w.deltaY*=100;break}return a.ctrlKey&&!G&&(w.deltaY*=10),w}function Qt(a){a.key==="Control"&&(G=!0,document.addEventListener("keyup",ge,{passive:!0,capture:!0}))}function ge(a){a.key==="Control"&&(G=!1,document.removeEventListener("keyup",ge,{passive:!0,capture:!0}))}function NA(a){A.enabled===!1||A.enablePan===!1||rt(a)}function lt(a){switch(Be(a),R.length){case 1:switch(A.touches.ONE){case gA.ROTATE:if(A.enableRotate===!1)return;ee(a),n=t.TOUCH_ROTATE;break;case gA.PAN:if(A.enablePan===!1)return;te(a),n=t.TOUCH_PAN;break;default:n=t.NONE}break;case 2:switch(A.touches.TWO){case gA.DOLLY_PAN:if(A.enableZoom===!1&&A.enablePan===!1)return;at(a),n=t.TOUCH_DOLLY_PAN;break;case gA.DOLLY_ROTATE:if(A.enableZoom===!1&&A.enableRotate===!1)return;gt(a),n=t.TOUCH_DOLLY_ROTATE;break;default:n=t.NONE}break;default:n=t.NONE}n!==t.NONE&&A.dispatchEvent(YA)}function ht(a){switch(Be(a),n){case t.TOUCH_ROTATE:if(A.enableRotate===!1)return;ne(a),A.update();break;case t.TOUCH_PAN:if(A.enablePan===!1)return;ie(a),A.update();break;case t.TOUCH_DOLLY_PAN:if(A.enableZoom===!1&&A.enablePan===!1)return;It(a),A.update();break;case t.TOUCH_DOLLY_ROTATE:if(A.enableZoom===!1&&A.enableRotate===!1)return;Bt(a),A.update();break;default:n=t.NONE}}function Ie(a){A.enabled!==!1&&a.preventDefault()}function ut(a){R.push(a.pointerId)}function ft(a){delete N[a.pointerId];for(let f=0;f<R.length;f++)if(R[f]==a.pointerId){R.splice(f,1);return}}function Be(a){let f=N[a.pointerId];f===void 0&&(f=new _,N[a.pointerId]=f),f.set(a.pageX,a.pageY)}function rA(a){const f=a.pointerId===R[0]?R[1]:R[0];return N[f]}A.domElement.addEventListener("contextmenu",Ie),A.domElement.addEventListener("pointerdown",re),A.domElement.addEventListener("pointercancel",CA),A.domElement.addEventListener("wheel",ae,{passive:!1}),document.addEventListener("keydown",Qt,{passive:!0,capture:!0}),this.update()}}const fn=Object.freeze(Object.defineProperty({__proto__:null,OrbitControls:Us},Symbol.toStringTag,{value:"Module"}));function Fe(E,e){if(e===Ht)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),E;if(e===WA||e===ke){let s=E.getIndex();if(s===null){const i=[],o=E.getAttribute("position");if(o!==void 0){for(let r=0;r<o.count;r++)i.push(r);E.setIndex(i),s=E.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),E}const A=s.count-2,t=[];if(e===WA)for(let i=1;i<=A;i++)t.push(s.getX(0)),t.push(s.getX(i)),t.push(s.getX(i+1));else for(let i=0;i<A;i++)i%2===0?(t.push(s.getX(i)),t.push(s.getX(i+1)),t.push(s.getX(i+2))):(t.push(s.getX(i+2)),t.push(s.getX(i+1)),t.push(s.getX(i)));t.length/3!==A&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const n=E.clone();return n.setIndex(t),n.clearGroups(),n}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),E}class ks extends Ne{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(s){return new qs(s)}),this.register(function(s){return new vs(s)}),this.register(function(s){return new zs(s)}),this.register(function(s){return new Zs(s)}),this.register(function(s){return new Js(s)}),this.register(function(s){return new Ps(s)}),this.register(function(s){return new Ys(s)}),this.register(function(s){return new js(s)}),this.register(function(s){return new Os(s)}),this.register(function(s){return new Vs(s)}),this.register(function(s){return new Ks(s)}),this.register(function(s){return new Ws(s)}),this.register(function(s){return new Xs(s)}),this.register(function(s){return new bs(s)}),this.register(function(s){return new $s(s)}),this.register(function(s){return new An(s)})}load(e,s,A,t){const n=this;let i;if(this.resourcePath!=="")i=this.resourcePath;else if(this.path!==""){const g=mA.extractUrlBase(e);i=mA.resolveURL(g,this.path)}else i=mA.extractUrlBase(e);this.manager.itemStart(e);const o=function(g){t?t(g):console.error(g),n.manager.itemError(e),n.manager.itemEnd(e)},r=new pA(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(g){try{n.parse(g,i,function(I){s(I),n.manager.itemEnd(e)},o)}catch(I){o(I)}},A,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,s,A,t){let n;const i={},o={},r=new TextDecoder;if(typeof e=="string")n=JSON.parse(e);else if(e instanceof ArrayBuffer)if(r.decode(new Uint8Array(e,0,4))===et){try{i[D.KHR_BINARY_GLTF]=new en(e)}catch(B){t&&t(B);return}n=JSON.parse(i[D.KHR_BINARY_GLTF].content)}else n=JSON.parse(r.decode(e));else n=e;if(n.asset===void 0||n.asset.version[0]<2){t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const g=new Qn(n,{path:s||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});g.fileLoader.setRequestHeader(this.requestHeader);for(let I=0;I<this.pluginCallbacks.length;I++){const B=this.pluginCallbacks[I](g);B.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[B.name]=B,i[B.name]=!0}if(n.extensionsUsed)for(let I=0;I<n.extensionsUsed.length;++I){const B=n.extensionsUsed[I],C=n.extensionsRequired||[];switch(B){case D.KHR_MATERIALS_UNLIT:i[B]=new Hs;break;case D.KHR_DRACO_MESH_COMPRESSION:i[B]=new tn(n,this.dracoLoader);break;case D.KHR_TEXTURE_TRANSFORM:i[B]=new sn;break;case D.KHR_MESH_QUANTIZATION:i[B]=new nn;break;default:C.indexOf(B)>=0&&o[B]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+B+'".')}}g.setExtensions(i),g.setPlugins(o),g.parse(A,t)}parseAsync(e,s){const A=this;return new Promise(function(t,n){A.parse(e,s,t,n)})}}function _s(){let E={};return{get:function(e){return E[e]},add:function(e,s){E[e]=s},remove:function(e){delete E[e]},removeAll:function(){E={}}}}const D={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bs{constructor(e){this.parser=e,this.name=D.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,s=this.parser.json.nodes||[];for(let A=0,t=s.length;A<t;A++){const n=s[A];n.extensions&&n.extensions[this.name]&&n.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const s=this.parser,A="light:"+e;let t=s.cache.get(A);if(t)return t;const n=s.json,r=((n.extensions&&n.extensions[this.name]||{}).lights||[])[e];let g;const I=new oA(16777215);r.color!==void 0&&I.setRGB(r.color[0],r.color[1],r.color[2],V);const B=r.range!==void 0?r.range:0;switch(r.type){case"directional":g=new Kt(I),g.target.position.set(0,0,-1),g.add(g.target);break;case"point":g=new qt(I),g.distance=B;break;case"spot":g=new Ot(I),g.distance=B,r.spot=r.spot||{},r.spot.innerConeAngle=r.spot.innerConeAngle!==void 0?r.spot.innerConeAngle:0,r.spot.outerConeAngle=r.spot.outerConeAngle!==void 0?r.spot.outerConeAngle:Math.PI/4,g.angle=r.spot.outerConeAngle,g.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,g.target.position.set(0,0,-1),g.add(g.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+r.type)}return g.position.set(0,0,0),g.decay=2,sA(g,r),r.intensity!==void 0&&(g.intensity=r.intensity),g.name=s.createUniqueName(r.name||"light_"+e),t=Promise.resolve(g),s.cache.add(A,t),t}getDependency(e,s){if(e==="light")return this._loadLight(s)}createNodeAttachment(e){const s=this,A=this.parser,n=A.json.nodes[e],o=(n.extensions&&n.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(r){return A._getNodeRef(s.cache,o,r)})}}class Hs{constructor(){this.name=D.KHR_MATERIALS_UNLIT}getMaterialType(){return dA}extendParams(e,s,A){const t=[];e.color=new oA(1,1,1),e.opacity=1;const n=s.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){const i=n.baseColorFactor;e.color.setRGB(i[0],i[1],i[2],V),e.opacity=i[3]}n.baseColorTexture!==void 0&&t.push(A.assignTexture(e,"map",n.baseColorTexture,EA))}return Promise.all(t)}}class Os{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,s){const t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=t.extensions[this.name].emissiveStrength;return n!==void 0&&(s.emissiveIntensity=n),Promise.resolve()}}class qs{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];if(i.clearcoatFactor!==void 0&&(s.clearcoat=i.clearcoatFactor),i.clearcoatTexture!==void 0&&n.push(A.assignTexture(s,"clearcoatMap",i.clearcoatTexture)),i.clearcoatRoughnessFactor!==void 0&&(s.clearcoatRoughness=i.clearcoatRoughnessFactor),i.clearcoatRoughnessTexture!==void 0&&n.push(A.assignTexture(s,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),i.clearcoatNormalTexture!==void 0&&(n.push(A.assignTexture(s,"clearcoatNormalMap",i.clearcoatNormalTexture)),i.clearcoatNormalTexture.scale!==void 0)){const o=i.clearcoatNormalTexture.scale;s.clearcoatNormalScale=new _(o,o)}return Promise.all(n)}}class Ks{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];return i.iridescenceFactor!==void 0&&(s.iridescence=i.iridescenceFactor),i.iridescenceTexture!==void 0&&n.push(A.assignTexture(s,"iridescenceMap",i.iridescenceTexture)),i.iridescenceIor!==void 0&&(s.iridescenceIOR=i.iridescenceIor),s.iridescenceThicknessRange===void 0&&(s.iridescenceThicknessRange=[100,400]),i.iridescenceThicknessMinimum!==void 0&&(s.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),i.iridescenceThicknessMaximum!==void 0&&(s.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),i.iridescenceThicknessTexture!==void 0&&n.push(A.assignTexture(s,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(n)}}class Js{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_SHEEN}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[];s.sheenColor=new oA(0,0,0),s.sheenRoughness=0,s.sheen=1;const i=t.extensions[this.name];if(i.sheenColorFactor!==void 0){const o=i.sheenColorFactor;s.sheenColor.setRGB(o[0],o[1],o[2],V)}return i.sheenRoughnessFactor!==void 0&&(s.sheenRoughness=i.sheenRoughnessFactor),i.sheenColorTexture!==void 0&&n.push(A.assignTexture(s,"sheenColorMap",i.sheenColorTexture,EA)),i.sheenRoughnessTexture!==void 0&&n.push(A.assignTexture(s,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(n)}}class Ps{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];return i.transmissionFactor!==void 0&&(s.transmission=i.transmissionFactor),i.transmissionTexture!==void 0&&n.push(A.assignTexture(s,"transmissionMap",i.transmissionTexture)),Promise.all(n)}}class Ys{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_VOLUME}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];s.thickness=i.thicknessFactor!==void 0?i.thicknessFactor:0,i.thicknessTexture!==void 0&&n.push(A.assignTexture(s,"thicknessMap",i.thicknessTexture)),s.attenuationDistance=i.attenuationDistance||1/0;const o=i.attenuationColor||[1,1,1];return s.attenuationColor=new oA().setRGB(o[0],o[1],o[2],V),Promise.all(n)}}class js{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_IOR}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=t.extensions[this.name];return s.ior=n.ior!==void 0?n.ior:1.5,Promise.resolve()}}class Vs{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_SPECULAR}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];s.specularIntensity=i.specularFactor!==void 0?i.specularFactor:1,i.specularTexture!==void 0&&n.push(A.assignTexture(s,"specularIntensityMap",i.specularTexture));const o=i.specularColorFactor||[1,1,1];return s.specularColor=new oA().setRGB(o[0],o[1],o[2],V),i.specularColorTexture!==void 0&&n.push(A.assignTexture(s,"specularColorMap",i.specularColorTexture,EA)),Promise.all(n)}}class Xs{constructor(e){this.parser=e,this.name=D.EXT_MATERIALS_BUMP}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];return s.bumpScale=i.bumpFactor!==void 0?i.bumpFactor:1,i.bumpTexture!==void 0&&n.push(A.assignTexture(s,"bumpMap",i.bumpTexture)),Promise.all(n)}}class Ws{constructor(e){this.parser=e,this.name=D.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const A=this.parser.json.materials[e];return!A.extensions||!A.extensions[this.name]?null:AA}extendMaterialParams(e,s){const A=this.parser,t=A.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const n=[],i=t.extensions[this.name];return i.anisotropyStrength!==void 0&&(s.anisotropy=i.anisotropyStrength),i.anisotropyRotation!==void 0&&(s.anisotropyRotation=i.anisotropyRotation),i.anisotropyTexture!==void 0&&n.push(A.assignTexture(s,"anisotropyMap",i.anisotropyTexture)),Promise.all(n)}}class vs{constructor(e){this.parser=e,this.name=D.KHR_TEXTURE_BASISU}loadTexture(e){const s=this.parser,A=s.json,t=A.textures[e];if(!t.extensions||!t.extensions[this.name])return null;const n=t.extensions[this.name],i=s.options.ktx2Loader;if(!i){if(A.extensionsRequired&&A.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return s.loadTextureImage(e,n.source,i)}}class zs{constructor(e){this.parser=e,this.name=D.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const s=this.name,A=this.parser,t=A.json,n=t.textures[e];if(!n.extensions||!n.extensions[s])return null;const i=n.extensions[s],o=t.images[i.source];let r=A.textureLoader;if(o.uri){const g=A.options.manager.getHandler(o.uri);g!==null&&(r=g)}return this.detectSupport().then(function(g){if(g)return A.loadTextureImage(e,i.source,r);if(t.extensionsRequired&&t.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return A.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const s=new Image;s.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",s.onload=s.onerror=function(){e(s.height===1)}})),this.isSupported}}class Zs{constructor(e){this.parser=e,this.name=D.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const s=this.name,A=this.parser,t=A.json,n=t.textures[e];if(!n.extensions||!n.extensions[s])return null;const i=n.extensions[s],o=t.images[i.source];let r=A.textureLoader;if(o.uri){const g=A.options.manager.getHandler(o.uri);g!==null&&(r=g)}return this.detectSupport().then(function(g){if(g)return A.loadTextureImage(e,i.source,r);if(t.extensionsRequired&&t.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return A.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const s=new Image;s.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",s.onload=s.onerror=function(){e(s.height===1)}})),this.isSupported}}class $s{constructor(e){this.name=D.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const s=this.parser.json,A=s.bufferViews[e];if(A.extensions&&A.extensions[this.name]){const t=A.extensions[this.name],n=this.parser.getDependency("buffer",t.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then(function(o){const r=t.byteOffset||0,g=t.byteLength||0,I=t.count,B=t.byteStride,C=new Uint8Array(o,r,g);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(I,B,C,t.mode,t.filter).then(function(c){return c.buffer}):i.ready.then(function(){const c=new ArrayBuffer(I*B);return i.decodeGltfBuffer(new Uint8Array(c),I,B,C,t.mode,t.filter),c})})}else return null}}class An{constructor(e){this.name=D.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const s=this.parser.json,A=s.nodes[e];if(!A.extensions||!A.extensions[this.name]||A.mesh===void 0)return null;const t=s.meshes[A.mesh];for(const g of t.primitives)if(g.mode!==O.TRIANGLES&&g.mode!==O.TRIANGLE_STRIP&&g.mode!==O.TRIANGLE_FAN&&g.mode!==void 0)return null;const i=A.extensions[this.name].attributes,o=[],r={};for(const g in i)o.push(this.parser.getDependency("accessor",i[g]).then(I=>(r[g]=I,r[g])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(g=>{const I=g.pop(),B=I.isGroup?I.children:[I],C=g[0].count,c=[];for(const Q of B){const l=new LA,h=new L,u=new TA,d=new L(1,1,1),p=new Jt(Q.geometry,Q.material,C);for(let m=0;m<C;m++)r.TRANSLATION&&h.fromBufferAttribute(r.TRANSLATION,m),r.ROTATION&&u.fromBufferAttribute(r.ROTATION,m),r.SCALE&&d.fromBufferAttribute(r.SCALE,m),p.setMatrixAt(m,l.compose(h,u,d));for(const m in r)if(m==="_COLOR_0"){const y=r[m];p.instanceColor=new Pt(y.array,y.itemSize,y.normalized)}else m!=="TRANSLATION"&&m!=="ROTATION"&&m!=="SCALE"&&Q.geometry.setAttribute(m,r[m]);_e.prototype.copy.call(p,Q),this.parser.assignFinalMaterial(p),c.push(p)}return I.isGroup?(I.clear(),I.add(...c),I):c[0]}))}}const et="glTF",hA=12,Te={JSON:1313821514,BIN:5130562};class en{constructor(e){this.name=D.KHR_BINARY_GLTF,this.content=null,this.body=null;const s=new DataView(e,0,hA),A=new TextDecoder;if(this.header={magic:A.decode(new Uint8Array(e.slice(0,4))),version:s.getUint32(4,!0),length:s.getUint32(8,!0)},this.header.magic!==et)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const t=this.header.length-hA,n=new DataView(e,hA);let i=0;for(;i<t;){const o=n.getUint32(i,!0);i+=4;const r=n.getUint32(i,!0);if(i+=4,r===Te.JSON){const g=new Uint8Array(e,hA+i,o);this.content=A.decode(g)}else if(r===Te.BIN){const g=hA+i;this.body=e.slice(g,g+o)}i+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class tn{constructor(e,s){if(!s)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=D.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=s,this.dracoLoader.preload()}decodePrimitive(e,s){const A=this.json,t=this.dracoLoader,n=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},r={},g={};for(const I in i){const B=ZA[I]||I.toLowerCase();o[B]=i[I]}for(const I in e.attributes){const B=ZA[I]||I.toLowerCase();if(i[I]!==void 0){const C=A.accessors[e.attributes[I]],c=BA[C.componentType];g[B]=c.name,r[B]=C.normalized===!0}}return s.getDependency("bufferView",n).then(function(I){return new Promise(function(B,C){t.decodeDracoFile(I,function(c){for(const Q in c.attributes){const l=c.attributes[Q],h=r[Q];h!==void 0&&(l.normalized=h)}B(c)},o,g,V,C)})})}}class sn{constructor(){this.name=D.KHR_TEXTURE_TRANSFORM}extendTexture(e,s){return(s.texCoord===void 0||s.texCoord===e.channel)&&s.offset===void 0&&s.rotation===void 0&&s.scale===void 0||(e=e.clone(),s.texCoord!==void 0&&(e.channel=s.texCoord),s.offset!==void 0&&e.offset.fromArray(s.offset),s.rotation!==void 0&&(e.rotation=s.rotation),s.scale!==void 0&&e.repeat.fromArray(s.scale),e.needsUpdate=!0),e}}class nn{constructor(){this.name=D.KHR_MESH_QUANTIZATION}}class tt extends fs{constructor(e,s,A,t){super(e,s,A,t)}copySampleValue_(e){const s=this.resultBuffer,A=this.sampleValues,t=this.valueSize,n=e*t*3+t;for(let i=0;i!==t;i++)s[i]=A[n+i];return s}interpolate_(e,s,A,t){const n=this.resultBuffer,i=this.sampleValues,o=this.valueSize,r=o*2,g=o*3,I=t-s,B=(A-s)/I,C=B*B,c=C*B,Q=e*g,l=Q-g,h=-2*c+3*C,u=c-C,d=1-h,p=u-C+B;for(let m=0;m!==o;m++){const y=i[l+m+o],S=i[l+m+r]*I,R=i[Q+m+o],N=i[Q+m]*I;n[m]=d*y+p*S+h*R+u*N}return n}}const on=new TA;class rn extends tt{interpolate_(e,s,A,t){const n=super.interpolate_(e,s,A,t);return on.fromArray(n).normalize().toArray(n),n}}const O={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},BA={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Le={9728:zt,9729:FA,9984:vt,9985:Wt,9986:Xt,9987:Ae},Ge={33071:$t,33648:Zt,10497:vA},jA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ZA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},tA={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},an={CUBICSPLINE:void 0,LINEAR:He,STEP:ls},VA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function gn(E){return E.DefaultMaterial===void 0&&(E.DefaultMaterial=new be({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:us})),E.DefaultMaterial}function iA(E,e,s){for(const A in s.extensions)E[A]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[A]=s.extensions[A])}function sA(E,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(E.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function In(E,e,s){let A=!1,t=!1,n=!1;for(let g=0,I=e.length;g<I;g++){const B=e[g];if(B.POSITION!==void 0&&(A=!0),B.NORMAL!==void 0&&(t=!0),B.COLOR_0!==void 0&&(n=!0),A&&t&&n)break}if(!A&&!t&&!n)return Promise.resolve(E);const i=[],o=[],r=[];for(let g=0,I=e.length;g<I;g++){const B=e[g];if(A){const C=B.POSITION!==void 0?s.getDependency("accessor",B.POSITION):E.attributes.position;i.push(C)}if(t){const C=B.NORMAL!==void 0?s.getDependency("accessor",B.NORMAL):E.attributes.normal;o.push(C)}if(n){const C=B.COLOR_0!==void 0?s.getDependency("accessor",B.COLOR_0):E.attributes.color;r.push(C)}}return Promise.all([Promise.all(i),Promise.all(o),Promise.all(r)]).then(function(g){const I=g[0],B=g[1],C=g[2];return A&&(E.morphAttributes.position=I),t&&(E.morphAttributes.normal=B),n&&(E.morphAttributes.color=C),E.morphTargetsRelative=!0,E})}function Bn(E,e){if(E.updateMorphTargets(),e.weights!==void 0)for(let s=0,A=e.weights.length;s<A;s++)E.morphTargetInfluences[s]=e.weights[s];if(e.extras&&Array.isArray(e.extras.targetNames)){const s=e.extras.targetNames;if(E.morphTargetInfluences.length===s.length){E.morphTargetDictionary={};for(let A=0,t=s.length;A<t;A++)E.morphTargetDictionary[s[A]]=A}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function En(E){let e;const s=E.extensions&&E.extensions[D.KHR_DRACO_MESH_COMPRESSION];if(s?e="draco:"+s.bufferView+":"+s.indices+":"+XA(s.attributes):e=E.indices+":"+XA(E.attributes)+":"+E.mode,E.targets!==void 0)for(let A=0,t=E.targets.length;A<t;A++)e+=":"+XA(E.targets[A]);return e}function XA(E){let e="";const s=Object.keys(E).sort();for(let A=0,t=s.length;A<t;A++)e+=s[A]+":"+E[s[A]]+";";return e}function $A(E){switch(E){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Cn(E){return E.search(/\.jpe?g($|\?)/i)>0||E.search(/^data\:image\/jpeg/)===0?"image/jpeg":E.search(/\.webp($|\?)/i)>0||E.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const cn=new LA;class Qn{constructor(e={},s={}){this.json=e,this.extensions={},this.plugins={},this.options=s,this.cache=new _s,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let A=!1,t=!1,n=-1;typeof navigator<"u"&&(A=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,t=navigator.userAgent.indexOf("Firefox")>-1,n=t?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||A||t&&n<98?this.textureLoader=new Yt(this.options.manager):this.textureLoader=new jt(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new pA(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,s){const A=this,t=this.json,n=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(i){return i._markDefs&&i._markDefs()}),Promise.all(this._invokeAll(function(i){return i.beforeRoot&&i.beforeRoot()})).then(function(){return Promise.all([A.getDependencies("scene"),A.getDependencies("animation"),A.getDependencies("camera")])}).then(function(i){const o={scene:i[0][t.scene||0],scenes:i[0],animations:i[1],cameras:i[2],asset:t.asset,parser:A,userData:{}};return iA(n,o,t),sA(o,t),Promise.all(A._invokeAll(function(r){return r.afterRoot&&r.afterRoot(o)})).then(function(){e(o)})}).catch(s)}_markDefs(){const e=this.json.nodes||[],s=this.json.skins||[],A=this.json.meshes||[];for(let t=0,n=s.length;t<n;t++){const i=s[t].joints;for(let o=0,r=i.length;o<r;o++)e[i[o]].isBone=!0}for(let t=0,n=e.length;t<n;t++){const i=e[t];i.mesh!==void 0&&(this._addNodeRef(this.meshCache,i.mesh),i.skin!==void 0&&(A[i.mesh].isSkinnedMesh=!0)),i.camera!==void 0&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,s){s!==void 0&&(e.refs[s]===void 0&&(e.refs[s]=e.uses[s]=0),e.refs[s]++)}_getNodeRef(e,s,A){if(e.refs[s]<=1)return A;const t=A.clone(),n=(i,o)=>{const r=this.associations.get(i);r!=null&&this.associations.set(o,r);for(const[g,I]of i.children.entries())n(I,o.children[g])};return n(A,t),t.name+="_instance_"+e.uses[s]++,t}_invokeOne(e){const s=Object.values(this.plugins);s.push(this);for(let A=0;A<s.length;A++){const t=e(s[A]);if(t)return t}return null}_invokeAll(e){const s=Object.values(this.plugins);s.unshift(this);const A=[];for(let t=0;t<s.length;t++){const n=e(s[t]);n&&A.push(n)}return A}getDependency(e,s){const A=e+":"+s;let t=this.cache.get(A);if(!t){switch(e){case"scene":t=this.loadScene(s);break;case"node":t=this._invokeOne(function(n){return n.loadNode&&n.loadNode(s)});break;case"mesh":t=this._invokeOne(function(n){return n.loadMesh&&n.loadMesh(s)});break;case"accessor":t=this.loadAccessor(s);break;case"bufferView":t=this._invokeOne(function(n){return n.loadBufferView&&n.loadBufferView(s)});break;case"buffer":t=this.loadBuffer(s);break;case"material":t=this._invokeOne(function(n){return n.loadMaterial&&n.loadMaterial(s)});break;case"texture":t=this._invokeOne(function(n){return n.loadTexture&&n.loadTexture(s)});break;case"skin":t=this.loadSkin(s);break;case"animation":t=this._invokeOne(function(n){return n.loadAnimation&&n.loadAnimation(s)});break;case"camera":t=this.loadCamera(s);break;default:if(t=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,s)}),!t)throw new Error("Unknown type: "+e);break}this.cache.add(A,t)}return t}getDependencies(e){let s=this.cache.get(e);if(!s){const A=this,t=this.json[e+(e==="mesh"?"es":"s")]||[];s=Promise.all(t.map(function(n,i){return A.getDependency(e,i)})),this.cache.add(e,s)}return s}loadBuffer(e){const s=this.json.buffers[e],A=this.fileLoader;if(s.type&&s.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+s.type+" buffer type is not supported.");if(s.uri===void 0&&e===0)return Promise.resolve(this.extensions[D.KHR_BINARY_GLTF].body);const t=this.options;return new Promise(function(n,i){A.load(mA.resolveURL(s.uri,t.path),n,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+s.uri+'".'))})})}loadBufferView(e){const s=this.json.bufferViews[e];return this.getDependency("buffer",s.buffer).then(function(A){const t=s.byteLength||0,n=s.byteOffset||0;return A.slice(n,n+t)})}loadAccessor(e){const s=this,A=this.json,t=this.json.accessors[e];if(t.bufferView===void 0&&t.sparse===void 0){const i=jA[t.type],o=BA[t.componentType],r=t.normalized===!0,g=new o(t.count*i);return Promise.resolve(new UA(g,i,r))}const n=[];return t.bufferView!==void 0?n.push(this.getDependency("bufferView",t.bufferView)):n.push(null),t.sparse!==void 0&&(n.push(this.getDependency("bufferView",t.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",t.sparse.values.bufferView))),Promise.all(n).then(function(i){const o=i[0],r=jA[t.type],g=BA[t.componentType],I=g.BYTES_PER_ELEMENT,B=I*r,C=t.byteOffset||0,c=t.bufferView!==void 0?A.bufferViews[t.bufferView].byteStride:void 0,Q=t.normalized===!0;let l,h;if(c&&c!==B){const u=Math.floor(C/c),d="InterleavedBuffer:"+t.bufferView+":"+t.componentType+":"+u+":"+t.count;let p=s.cache.get(d);p||(l=new g(o,u*c,t.count*c/I),p=new Vt(l,c/I),s.cache.add(d,p)),h=new hs(p,r,C%c/I,Q)}else o===null?l=new g(t.count*r):l=new g(o,C,t.count*r),h=new UA(l,r,Q);if(t.sparse!==void 0){const u=jA.SCALAR,d=BA[t.sparse.indices.componentType],p=t.sparse.indices.byteOffset||0,m=t.sparse.values.byteOffset||0,y=new d(i[1],p,t.sparse.count*u),S=new g(i[2],m,t.sparse.count*r);o!==null&&(h=new UA(h.array.slice(),h.itemSize,h.normalized));for(let R=0,N=y.length;R<N;R++){const G=y[R];if(h.setX(G,S[R*r]),r>=2&&h.setY(G,S[R*r+1]),r>=3&&h.setZ(G,S[R*r+2]),r>=4&&h.setW(G,S[R*r+3]),r>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return h})}loadTexture(e){const s=this.json,A=this.options,n=s.textures[e].source,i=s.images[n];let o=this.textureLoader;if(i.uri){const r=A.manager.getHandler(i.uri);r!==null&&(o=r)}return this.loadTextureImage(e,n,o)}loadTextureImage(e,s,A){const t=this,n=this.json,i=n.textures[e],o=n.images[s],r=(o.uri||o.bufferView)+":"+i.sampler;if(this.textureCache[r])return this.textureCache[r];const g=this.loadImageSource(s,A).then(function(I){I.flipY=!1,I.name=i.name||o.name||"",I.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(I.name=o.uri);const C=(n.samplers||{})[i.sampler]||{};return I.magFilter=Le[C.magFilter]||FA,I.minFilter=Le[C.minFilter]||Ae,I.wrapS=Ge[C.wrapS]||vA,I.wrapT=Ge[C.wrapT]||vA,t.associations.set(I,{textures:e}),I}).catch(function(){return null});return this.textureCache[r]=g,g}loadImageSource(e,s){const A=this,t=this.json,n=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(B=>B.clone());const i=t.images[e],o=self.URL||self.webkitURL;let r=i.uri||"",g=!1;if(i.bufferView!==void 0)r=A.getDependency("bufferView",i.bufferView).then(function(B){g=!0;const C=new Blob([B],{type:i.mimeType});return r=o.createObjectURL(C),r});else if(i.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const I=Promise.resolve(r).then(function(B){return new Promise(function(C,c){let Q=C;s.isImageBitmapLoader===!0&&(Q=function(l){const h=new le(l);h.needsUpdate=!0,C(h)}),s.load(mA.resolveURL(B,n.path),Q,void 0,c)})}).then(function(B){return g===!0&&o.revokeObjectURL(r),B.userData.mimeType=i.mimeType||Cn(i.uri),B}).catch(function(B){throw console.error("THREE.GLTFLoader: Couldn't load texture",r),B});return this.sourceCache[e]=I,I}assignTexture(e,s,A,t){const n=this;return this.getDependency("texture",A.index).then(function(i){if(!i)return null;if(A.texCoord!==void 0&&A.texCoord>0&&(i=i.clone(),i.channel=A.texCoord),n.extensions[D.KHR_TEXTURE_TRANSFORM]){const o=A.extensions!==void 0?A.extensions[D.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const r=n.associations.get(i);i=n.extensions[D.KHR_TEXTURE_TRANSFORM].extendTexture(i,o),n.associations.set(i,r)}}return t!==void 0&&(i.colorSpace=t),e[s]=i,i})}assignFinalMaterial(e){const s=e.geometry;let A=e.material;const t=s.attributes.tangent===void 0,n=s.attributes.color!==void 0,i=s.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+A.uuid;let r=this.cache.get(o);r||(r=new As,kA.prototype.copy.call(r,A),r.color.copy(A.color),r.map=A.map,r.sizeAttenuation=!1,this.cache.add(o,r)),A=r}else if(e.isLine){const o="LineBasicMaterial:"+A.uuid;let r=this.cache.get(o);r||(r=new es,kA.prototype.copy.call(r,A),r.color.copy(A.color),r.map=A.map,this.cache.add(o,r)),A=r}if(t||n||i){let o="ClonedMaterial:"+A.uuid+":";t&&(o+="derivative-tangents:"),n&&(o+="vertex-colors:"),i&&(o+="flat-shading:");let r=this.cache.get(o);r||(r=A.clone(),n&&(r.vertexColors=!0),i&&(r.flatShading=!0),t&&(r.normalScale&&(r.normalScale.y*=-1),r.clearcoatNormalScale&&(r.clearcoatNormalScale.y*=-1)),this.cache.add(o,r),this.associations.set(r,this.associations.get(A))),A=r}e.material=A}getMaterialType(){return be}loadMaterial(e){const s=this,A=this.json,t=this.extensions,n=A.materials[e];let i;const o={},r=n.extensions||{},g=[];if(r[D.KHR_MATERIALS_UNLIT]){const B=t[D.KHR_MATERIALS_UNLIT];i=B.getMaterialType(),g.push(B.extendParams(o,n,s))}else{const B=n.pbrMetallicRoughness||{};if(o.color=new oA(1,1,1),o.opacity=1,Array.isArray(B.baseColorFactor)){const C=B.baseColorFactor;o.color.setRGB(C[0],C[1],C[2],V),o.opacity=C[3]}B.baseColorTexture!==void 0&&g.push(s.assignTexture(o,"map",B.baseColorTexture,EA)),o.metalness=B.metallicFactor!==void 0?B.metallicFactor:1,o.roughness=B.roughnessFactor!==void 0?B.roughnessFactor:1,B.metallicRoughnessTexture!==void 0&&(g.push(s.assignTexture(o,"metalnessMap",B.metallicRoughnessTexture)),g.push(s.assignTexture(o,"roughnessMap",B.metallicRoughnessTexture))),i=this._invokeOne(function(C){return C.getMaterialType&&C.getMaterialType(e)}),g.push(Promise.all(this._invokeAll(function(C){return C.extendMaterialParams&&C.extendMaterialParams(e,o)})))}n.doubleSided===!0&&(o.side=ts);const I=n.alphaMode||VA.OPAQUE;if(I===VA.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,I===VA.MASK&&(o.alphaTest=n.alphaCutoff!==void 0?n.alphaCutoff:.5)),n.normalTexture!==void 0&&i!==dA&&(g.push(s.assignTexture(o,"normalMap",n.normalTexture)),o.normalScale=new _(1,1),n.normalTexture.scale!==void 0)){const B=n.normalTexture.scale;o.normalScale.set(B,B)}if(n.occlusionTexture!==void 0&&i!==dA&&(g.push(s.assignTexture(o,"aoMap",n.occlusionTexture)),n.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=n.occlusionTexture.strength)),n.emissiveFactor!==void 0&&i!==dA){const B=n.emissiveFactor;o.emissive=new oA().setRGB(B[0],B[1],B[2],V)}return n.emissiveTexture!==void 0&&i!==dA&&g.push(s.assignTexture(o,"emissiveMap",n.emissiveTexture,EA)),Promise.all(g).then(function(){const B=new i(o);return n.name&&(B.name=n.name),sA(B,n),s.associations.set(B,{materials:e}),n.extensions&&iA(t,B,n),B})}createUniqueName(e){const s=ss.sanitizeNodeName(e||"");return s in this.nodeNamesUsed?s+"_"+ ++this.nodeNamesUsed[s]:(this.nodeNamesUsed[s]=0,s)}loadGeometries(e){const s=this,A=this.extensions,t=this.primitiveCache;function n(o){return A[D.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,s).then(function(r){return Me(r,o,s)})}const i=[];for(let o=0,r=e.length;o<r;o++){const g=e[o],I=En(g),B=t[I];if(B)i.push(B.promise);else{let C;g.extensions&&g.extensions[D.KHR_DRACO_MESH_COMPRESSION]?C=n(g):C=Me(new ns,g,s),t[I]={primitive:g,promise:C},i.push(C)}}return Promise.all(i)}loadMesh(e){const s=this,A=this.json,t=this.extensions,n=A.meshes[e],i=n.primitives,o=[];for(let r=0,g=i.length;r<g;r++){const I=i[r].material===void 0?gn(this.cache):this.getDependency("material",i[r].material);o.push(I)}return o.push(s.loadGeometries(i)),Promise.all(o).then(function(r){const g=r.slice(0,r.length-1),I=r[r.length-1],B=[];for(let c=0,Q=I.length;c<Q;c++){const l=I[c],h=i[c];let u;const d=g[c];if(h.mode===O.TRIANGLES||h.mode===O.TRIANGLE_STRIP||h.mode===O.TRIANGLE_FAN||h.mode===void 0)u=n.isSkinnedMesh===!0?new is(l,d):new os(l,d),u.isSkinnedMesh===!0&&u.normalizeSkinWeights(),h.mode===O.TRIANGLE_STRIP?u.geometry=Fe(u.geometry,ke):h.mode===O.TRIANGLE_FAN&&(u.geometry=Fe(u.geometry,WA));else if(h.mode===O.LINES)u=new rs(l,d);else if(h.mode===O.LINE_STRIP)u=new as(l,d);else if(h.mode===O.LINE_LOOP)u=new gs(l,d);else if(h.mode===O.POINTS)u=new Is(l,d);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);Object.keys(u.geometry.morphAttributes).length>0&&Bn(u,n),u.name=s.createUniqueName(n.name||"mesh_"+e),sA(u,n),h.extensions&&iA(t,u,h),s.assignFinalMaterial(u),B.push(u)}for(let c=0,Q=B.length;c<Q;c++)s.associations.set(B[c],{meshes:e,primitives:c});if(B.length===1)return n.extensions&&iA(t,B[0],n),B[0];const C=new _A;n.extensions&&iA(t,C,n),s.associations.set(C,{meshes:e});for(let c=0,Q=B.length;c<Q;c++)C.add(B[c]);return C})}loadCamera(e){let s;const A=this.json.cameras[e],t=A[A.type];if(!t){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return A.type==="perspective"?s=new Bs(Ue.radToDeg(t.yfov),t.aspectRatio||1,t.znear||1,t.zfar||2e6):A.type==="orthographic"&&(s=new Es(-t.xmag,t.xmag,t.ymag,-t.ymag,t.znear,t.zfar)),A.name&&(s.name=this.createUniqueName(A.name)),sA(s,A),Promise.resolve(s)}loadSkin(e){const s=this.json.skins[e],A=[];for(let t=0,n=s.joints.length;t<n;t++)A.push(this._loadNodeShallow(s.joints[t]));return s.inverseBindMatrices!==void 0?A.push(this.getDependency("accessor",s.inverseBindMatrices)):A.push(null),Promise.all(A).then(function(t){const n=t.pop(),i=t,o=[],r=[];for(let g=0,I=i.length;g<I;g++){const B=i[g];if(B){o.push(B);const C=new LA;n!==null&&C.fromArray(n.array,g*16),r.push(C)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[g])}return new Cs(o,r)})}loadAnimation(e){const s=this.json,A=this,t=s.animations[e],n=t.name?t.name:"animation_"+e,i=[],o=[],r=[],g=[],I=[];for(let B=0,C=t.channels.length;B<C;B++){const c=t.channels[B],Q=t.samplers[c.sampler],l=c.target,h=l.node,u=t.parameters!==void 0?t.parameters[Q.input]:Q.input,d=t.parameters!==void 0?t.parameters[Q.output]:Q.output;l.node!==void 0&&(i.push(this.getDependency("node",h)),o.push(this.getDependency("accessor",u)),r.push(this.getDependency("accessor",d)),g.push(Q),I.push(l))}return Promise.all([Promise.all(i),Promise.all(o),Promise.all(r),Promise.all(g),Promise.all(I)]).then(function(B){const C=B[0],c=B[1],Q=B[2],l=B[3],h=B[4],u=[];for(let d=0,p=C.length;d<p;d++){const m=C[d],y=c[d],S=Q[d],R=l[d],N=h[d];if(m===void 0)continue;m.updateMatrix&&m.updateMatrix();const G=A._createAnimationTracks(m,y,S,R,N);if(G)for(let q=0;q<G.length;q++)u.push(G[q])}return new cs(n,void 0,u)})}createNodeMesh(e){const s=this.json,A=this,t=s.nodes[e];return t.mesh===void 0?null:A.getDependency("mesh",t.mesh).then(function(n){const i=A._getNodeRef(A.meshCache,t.mesh,n);return t.weights!==void 0&&i.traverse(function(o){if(o.isMesh)for(let r=0,g=t.weights.length;r<g;r++)o.morphTargetInfluences[r]=t.weights[r]}),i})}loadNode(e){const s=this.json,A=this,t=s.nodes[e],n=A._loadNodeShallow(e),i=[],o=t.children||[];for(let g=0,I=o.length;g<I;g++)i.push(A.getDependency("node",o[g]));const r=t.skin===void 0?Promise.resolve(null):A.getDependency("skin",t.skin);return Promise.all([n,Promise.all(i),r]).then(function(g){const I=g[0],B=g[1],C=g[2];C!==null&&I.traverse(function(c){c.isSkinnedMesh&&c.bind(C,cn)});for(let c=0,Q=B.length;c<Q;c++)I.add(B[c]);return I})}_loadNodeShallow(e){const s=this.json,A=this.extensions,t=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const n=s.nodes[e],i=n.name?t.createUniqueName(n.name):"",o=[],r=t._invokeOne(function(g){return g.createNodeMesh&&g.createNodeMesh(e)});return r&&o.push(r),n.camera!==void 0&&o.push(t.getDependency("camera",n.camera).then(function(g){return t._getNodeRef(t.cameraCache,n.camera,g)})),t._invokeAll(function(g){return g.createNodeAttachment&&g.createNodeAttachment(e)}).forEach(function(g){o.push(g)}),this.nodeCache[e]=Promise.all(o).then(function(g){let I;if(n.isBone===!0?I=new Qs:g.length>1?I=new _A:g.length===1?I=g[0]:I=new _e,I!==g[0])for(let B=0,C=g.length;B<C;B++)I.add(g[B]);if(n.name&&(I.userData.name=n.name,I.name=i),sA(I,n),n.extensions&&iA(A,I,n),n.matrix!==void 0){const B=new LA;B.fromArray(n.matrix),I.applyMatrix4(B)}else n.translation!==void 0&&I.position.fromArray(n.translation),n.rotation!==void 0&&I.quaternion.fromArray(n.rotation),n.scale!==void 0&&I.scale.fromArray(n.scale);return t.associations.has(I)||t.associations.set(I,{}),t.associations.get(I).nodes=e,I}),this.nodeCache[e]}loadScene(e){const s=this.extensions,A=this.json.scenes[e],t=this,n=new _A;A.name&&(n.name=t.createUniqueName(A.name)),sA(n,A),A.extensions&&iA(s,n,A);const i=A.nodes||[],o=[];for(let r=0,g=i.length;r<g;r++)o.push(t.getDependency("node",i[r]));return Promise.all(o).then(function(r){for(let I=0,B=r.length;I<B;I++)n.add(r[I]);const g=I=>{const B=new Map;for(const[C,c]of t.associations)(C instanceof kA||C instanceof le)&&B.set(C,c);return I.traverse(C=>{const c=t.associations.get(C);c!=null&&B.set(C,c)}),B};return t.associations=g(n),n})}_createAnimationTracks(e,s,A,t,n){const i=[],o=e.name?e.name:e.uuid,r=[];tA[n.path]===tA.weights?e.traverse(function(C){C.morphTargetInfluences&&r.push(C.name?C.name:C.uuid)}):r.push(o);let g;switch(tA[n.path]){case tA.weights:g=ue;break;case tA.rotation:g=fe;break;case tA.position:case tA.scale:g=he;break;default:switch(A.itemSize){case 1:g=ue;break;case 2:case 3:default:g=he;break}break}const I=t.interpolation!==void 0?an[t.interpolation]:He,B=this._getArrayFromAccessor(A);for(let C=0,c=r.length;C<c;C++){const Q=new g(r[C]+"."+tA[n.path],s.array,B,I);t.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(Q),i.push(Q)}return i}_getArrayFromAccessor(e){let s=e.array;if(e.normalized){const A=$A(s.constructor),t=new Float32Array(s.length);for(let n=0,i=s.length;n<i;n++)t[n]=s[n]*A;s=t}return s}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(A){const t=this instanceof fe?rn:tt;return new t(this.times,this.values,this.getValueSize()/3,A)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ln(E,e,s){const A=e.attributes,t=new ds;if(A.POSITION!==void 0){const o=s.json.accessors[A.POSITION],r=o.min,g=o.max;if(r!==void 0&&g!==void 0){if(t.set(new L(r[0],r[1],r[2]),new L(g[0],g[1],g[2])),o.normalized){const I=$A(BA[o.componentType]);t.min.multiplyScalar(I),t.max.multiplyScalar(I)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const n=e.targets;if(n!==void 0){const o=new L,r=new L;for(let g=0,I=n.length;g<I;g++){const B=n[g];if(B.POSITION!==void 0){const C=s.json.accessors[B.POSITION],c=C.min,Q=C.max;if(c!==void 0&&Q!==void 0){if(r.setX(Math.max(Math.abs(c[0]),Math.abs(Q[0]))),r.setY(Math.max(Math.abs(c[1]),Math.abs(Q[1]))),r.setZ(Math.max(Math.abs(c[2]),Math.abs(Q[2]))),C.normalized){const l=$A(BA[C.componentType]);r.multiplyScalar(l)}o.max(r)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}t.expandByVector(o)}E.boundingBox=t;const i=new ps;t.getCenter(i.center),i.radius=t.min.distanceTo(t.max)/2,E.boundingSphere=i}function Me(E,e,s){const A=e.attributes,t=[];function n(i,o){return s.getDependency("accessor",i).then(function(r){E.setAttribute(o,r)})}for(const i in A){const o=ZA[i]||i.toLowerCase();o in E.attributes||t.push(n(A[i],o))}if(e.indices!==void 0&&!E.index){const i=s.getDependency("accessor",e.indices).then(function(o){E.setIndex(o)});t.push(i)}return de.workingColorSpace!==V&&"COLOR_0"in A&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${de.workingColorSpace}" not supported.`),sA(E,e),ln(E,e,s),Promise.all(t).then(function(){return e.targets!==void 0?In(E,e.targets,s):E})}const dn=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:ks},Symbol.toStringTag,{value:"Module"}));export{dn as G,$ as K,fn as O};
