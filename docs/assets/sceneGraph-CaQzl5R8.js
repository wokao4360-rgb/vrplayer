function u(o,i){var r;const n=o.scenes.map(t=>({id:t.id,name:t.name,scene:t,mapPoint:t.mapPoint,initialView:t.initialView})),e=new Set(n.map(t=>t.id)),d=[];for(const t of o.scenes)for(const s of t.hotspots){if(s.type!=="scene"||!((r=s.target)!=null&&r.sceneId))continue;const a=s.target.museumId??o.id,f=s.target.sceneId;a!==o.id||!e.has(f)||d.some(c=>c.from===t.id&&c.to===f)||d.push({from:t.id,to:f})}return{nodes:n,edges:d,currentNodeId:i&&e.has(i)?i:void 0}}function m(o,i){const n=new Set;for(const e of o.edges)e.from===i?n.add(e.to):e.to===i&&n.add(e.from);return o.nodes.filter(e=>n.has(e.id))}function p(o,i){let n=0;for(const e of o.edges)(e.from===i||e.to===i)&&n++;return n}export{u as buildSceneGraph,m as getNeighbors,p as getNodeDegree};
