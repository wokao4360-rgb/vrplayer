import{m as q}from"./Modal-Cmv3TBkb.js";import{j as z,p as O,s as Q}from"./index-DInc35Wk.js";import{g as M,s as F}from"./qualityPreference-BRkZdVpy.js";function V(e,o){const c=document.createElement("div"),a=document.createElement("span");a.className="vr-modal-info-row-label",a.textContent=e;const n=document.createElement("span");return n.textContent=o,c.appendChild(a),c.appendChild(n),c}function G(e){const o=document.createElement("div");o.className="vr-modal-info-list",o.appendChild(V("展馆",e.museumName)),o.appendChild(V("场景",e.sceneName)),o.appendChild(V("采集日期","2025-12-27"));const c=document.createElement("div");c.className="vr-modal-info-copyright";const a=document.createElement("button");a.type="button",a.role="button",a.className="vr-modal-info-copyright-btn",a.textContent="© 2025 鼎虎清源",c.appendChild(a),o.appendChild(c);let n=null;return a.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),n==null||n.close(),setTimeout(()=>{e.onOpenBrand()},0)}),n=q({title:"信息",contentEl:o,onClose:()=>{e.onDockTabClose("info")}}),n}function W(e){var k;const o=z(),c=O(),a=M(),n=document.createElement("div");n.className="vr-modal-settings-list";const i=document.createElement("div");i.className="vr-modal-settings-item-label",i.textContent="画质";const h=document.createElement("div");h.className="vr-modal-settings-quality";const r=document.createElement("button");r.className="vr-modal-settings-quality-btn",r.textContent="高清",r.dataset.level="high";const d=document.createElement("button");d.className="vr-modal-settings-quality-btn",d.textContent="省流",d.dataset.level="low";const N=t=>{r.classList.toggle("is-active",t==="high"),d.classList.toggle("is-active",t==="low")};N(a);const x=t=>{!e.currentScene||!e.panoViewer||M()===t||(F(t),N(t),e.panoViewer.loadScene(e.currentScene,{preserveView:!0}))};r.addEventListener("click",()=>x("high")),d.addEventListener("click",()=>x("low")),h.appendChild(r),h.appendChild(d);const w=document.createElement("div");w.appendChild(i),w.appendChild(h);const C=document.createElement("div");C.className="vr-modal-settings-item-label",C.textContent="视角";const m=document.createElement("button");m.className="vr-modal-settings-row-btn",m.type="button",m.textContent="恢复初始视角",m.addEventListener("click",()=>{if(!e.currentScene||!e.panoViewer)return;const t=e.currentScene.initialView||{yaw:0,pitch:0,fov:75},R=-(t.yaw||0),S=t.pitch||0,T=t.fov??75;e.panoViewer.setView(R,S,T)});const g=document.createElement("div");g.appendChild(C),g.appendChild(m);const E=document.createElement("div");E.className="vr-modal-settings-item-label",E.textContent="VR 眼镜";const l=document.createElement("button");l.className="vr-modal-settings-row-btn",l.type="button",l.textContent="VR 眼镜";const L=()=>{var s;const t=((s=e.panoViewer)==null?void 0:s.isVrModeEnabled())??!1;l.classList.toggle("is-on",t)};if(o)L(),l.addEventListener("click",async()=>{if(!e.panoViewer)return;const t=e.panoViewer.getDomElement();await e.onToggleVrMode(t),L()});else if(c){l.classList.add("is-disabled");const t=()=>{Q("移动端可体验此功能",1500)};l.addEventListener("mouseenter",t),l.addEventListener("click",t)}const b=document.createElement("div");b.appendChild(E),b.appendChild(l);const f=document.createElement("div");f.className="vr-modal-settings-item-label",f.textContent="缩放";const u=document.createElement("div");u.className="vr-modal-settings-quality",u.style.gap="8px";const p=document.createElement("button");p.className="vr-modal-settings-quality-btn",p.textContent="缩小",p.style.minWidth="70px";const v=document.createElement("button");v.className="vr-modal-settings-quality-btn",v.textContent="放大",v.style.minWidth="70px";const B=()=>{if(!e.panoViewer)return;const t=e.panoViewer.getCurrentView(),s=Math.min(120,t.fov*1.12);e.panoViewer.setFov(s)},D=()=>{if(!e.panoViewer)return;const t=e.panoViewer.getCurrentView(),s=Math.max(30,t.fov/1.12);e.panoViewer.setFov(s)};p.addEventListener("click",B),v.addEventListener("click",D),u.appendChild(p),u.appendChild(v);const y=document.createElement("div");return y.appendChild(f),y.appendChild(u),n.appendChild(w),n.appendChild(g),n.appendChild(y),n.appendChild(b),(k=e.bottomDock)==null||k.setMoreOpen(!0),q({title:"更多",contentEl:n,panelClassName:"vr-modal-settings",onClose:()=>{var t;(t=e.bottomDock)==null||t.setMoreOpen(!1),e.onDockTabClose("settings")}})}export{G as openInfoModal,W as openSettingsModal};
