import{m as B}from"./Modal-Cmv3TBkb.js";import{Z as n,f as R,m as I,s as Q}from"./index-I51ows0J.js";import{g as M,s as F}from"./qualityPreference-BRkZdVpy.js";function V(e,l){const c=document.createElement("div"),o=document.createElement("span");o.className="vr-modal-info-row-label",o.textContent=e;const a=document.createElement("span");return a.textContent=l,c.appendChild(o),c.appendChild(a),c}function G(e){const l=document.createElement("div");l.className="vr-modal-info-list",l.appendChild(V(n.modal.museumLabel,e.museumName)),l.appendChild(V(n.modal.sceneLabel,e.sceneName)),l.appendChild(V(n.modal.collectDateLabel,"2025-12-27"));const c=document.createElement("div");c.className="vr-modal-info-copyright";const o=document.createElement("button");o.type="button",o.role="button",o.className="vr-modal-info-copyright-btn",o.textContent=n.brand.copyright,c.appendChild(o),l.appendChild(c);let a=null;return o.addEventListener("click",d=>{d.preventDefault(),d.stopPropagation(),a==null||a.close(),setTimeout(()=>{e.onOpenBrand()},0)}),a=B({title:n.modal.infoTitle,contentEl:l,onClose:()=>{e.onDockTabClose("info")}}),a}function H(e){var q;const l=R(),c=I(),o=M(),a=document.createElement("div");a.className="vr-modal-settings-list";const d=document.createElement("div");d.className="vr-modal-settings-item-label",d.textContent=n.modal.qualityLabel;const w=document.createElement("div");w.className="vr-modal-settings-quality";const r=document.createElement("button");r.className="vr-modal-settings-quality-btn",r.textContent=n.modal.qualityHigh,r.dataset.level="high";const m=document.createElement("button");m.className="vr-modal-settings-quality-btn",m.textContent=n.modal.qualityLow,m.dataset.level="low";const N=t=>{r.classList.toggle("is-active",t==="high"),m.classList.toggle("is-active",t==="low")};N(o);const x=t=>{!e.currentScene||!e.panoViewer||M()===t||(F(t),N(t),e.panoViewer.loadScene(e.currentScene,{preserveView:!0}))};r.addEventListener("click",()=>x("high")),m.addEventListener("click",()=>x("low")),w.appendChild(r),w.appendChild(m);const C=document.createElement("div");C.appendChild(d),C.appendChild(w);const b=document.createElement("div");b.className="vr-modal-settings-item-label",b.textContent=n.modal.viewLabel;const u=document.createElement("button");u.className="vr-modal-settings-row-btn",u.type="button",u.textContent=n.modal.resetView,u.addEventListener("click",()=>{if(!e.currentScene||!e.panoViewer)return;const t=e.currentScene.initialView||{yaw:0,pitch:0,fov:75},z=-(t.yaw||0),S=t.pitch||0,O=t.fov??75;e.panoViewer.setView(z,S,O)});const g=document.createElement("div");g.appendChild(b),g.appendChild(u);const E=document.createElement("div");E.className="vr-modal-settings-item-label",E.textContent=n.modal.vrLabel;const s=document.createElement("button");s.className="vr-modal-settings-row-btn",s.type="button",s.textContent=n.modal.vrLabel;const k=()=>{var i;const t=((i=e.panoViewer)==null?void 0:i.isVrModeEnabled())??!1;s.classList.toggle("is-on",t)};if(l)k(),s.addEventListener("click",async()=>{if(!e.panoViewer)return;const t=e.panoViewer.getDomElement();await e.onToggleVrMode(t),k()});else if(c){s.classList.add("is-disabled");const t=()=>{Q("移动端可体验此功能",1500)};s.addEventListener("mouseenter",t),s.addEventListener("click",t)}const f=document.createElement("div");f.appendChild(E),f.appendChild(s);const y=document.createElement("div");y.className="vr-modal-settings-item-label",y.textContent=n.modal.zoomLabel;const p=document.createElement("div");p.className="vr-modal-settings-quality",p.style.gap="8px";const v=document.createElement("button");v.className="vr-modal-settings-quality-btn",v.textContent=n.modal.zoomOut,v.style.minWidth="70px";const h=document.createElement("button");h.className="vr-modal-settings-quality-btn",h.textContent=n.modal.zoomIn,h.style.minWidth="70px";const D=()=>{if(!e.panoViewer)return;const t=e.panoViewer.getCurrentView(),i=Math.min(120,t.fov*1.12);e.panoViewer.setFov(i)},T=()=>{if(!e.panoViewer)return;const t=e.panoViewer.getCurrentView(),i=Math.max(30,t.fov/1.12);e.panoViewer.setFov(i)};v.addEventListener("click",D),h.addEventListener("click",T),p.appendChild(v),p.appendChild(h);const L=document.createElement("div");return L.appendChild(y),L.appendChild(p),a.appendChild(C),a.appendChild(g),a.appendChild(L),a.appendChild(f),(q=e.bottomDock)==null||q.setMoreOpen(!0),B({title:n.modal.settingsTitle,contentEl:a,panelClassName:"vr-modal-settings",onClose:()=>{var t;(t=e.bottomDock)==null||t.setMoreOpen(!1),e.onDockTabClose("settings")}})}export{G as openInfoModal,H as openSettingsModal};
